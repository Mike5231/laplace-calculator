<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="./CSS/styleHome.css" rel="stylesheet"> 
    <link href="./CSS/styles.css" rel="stylesheet"> 
</head>
<body id="contenido">
   <div id="div1">
    <div id="div2">
        <h1>Formula de Laplace</h1>
    <img src="./img/formula13.png" alt="" width="250px" height="100px">
    <div id="div5">
        <label for="a" class="titleLogin">Ingrese a: </label>
        <input id = "XD" type="text" min="0" name="n"></input>
    </div>
    <div id="div5">
        <label for="b" class="titleLogin">Ingrese b: </label>
        <input id = "XD2" type="text" min="0" name="b"></input>
    </div>
    <div id="div6">
            <a id ="buto1"class="btn btn-primary loginbutton">Resolver</a>
        </div>
    </div>
   </div>
    <div id="div7">
        <div id="div8">
            <h1>Resultado:</h1>
            <h2 id="total"></h2>
        </div> 
    </div>
</body>
<!--Jquery-->
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
<script>
    $('#buto1').click(function() {
        var id = $("#XD").val()
        var id2 = $("#XD2").val()
        let a = numberDefinition(id);
        let b = numberDefinition(id2);
        console.log(a)
        console.log(b)
        if(typeof a === 'number'){
            if(typeof b === 'number'){
                $("#total").html(
                '<div class="fraction"><span class="fup" id="total"><i>S - '+a+'</i></span>'
                +'<span class="bar">/</span>'
                +'<span class="fdn"><i>(S - '+ a +')^2 - '+b*b+'</i></span></div>')
            } else if(b.includes('sqrt')){
                let aux2 = b.split('')
                removeItemFromArr(aux2, 's');
                removeItemFromArr(aux2, 'q');
                removeItemFromArr(aux2, 'r');
                removeItemFromArr(aux2, 't');
                removeItemFromArr(aux2, '(');
                removeItemFromArr(aux2, ')');
                $("#total").html(
                '<div class="fraction"><span class="fup" id="total"><i>S - '+a+'</i></span>'
                +'<span class="bar">/</span>'
                +'<span class="fdn"><i>(S - '+ a +')^2 - '+aux2+'</i></span></div>')
            } else{
                $("#total").html(
                '<div class="fraction"><span class="fup" id="total"><i>S - '+a+'</i></span>'
                +'<span class="bar">/</span>'
                +'<span class="fdn"><i>(S - '+ a +')^2 - ('+b+')^2</i></span></div>')
            }
        } else {
            if(typeof b === 'number'){
                $("#total").html(
                '<div class="fraction"><span class="fup" id="total"><i>S - '+a+'</i></span>'
                +'<span class="bar">/</span>'
                +'<span class="fdn"><i>(S - '+ a +')^2 - '+b*b+'</i></span></div>')
            } else if(b.includes('sqrt')){
                let aux2 = b.split('')
                removeItemFromArr(aux2, 's');
                removeItemFromArr(aux2, 'q');
                removeItemFromArr(aux2, 'r');
                removeItemFromArr(aux2, 't');
                removeItemFromArr(aux2, '(');
                removeItemFromArr(aux2, ')');
                $("#total").html(
                '<div class="fraction"><span class="fup" id="total"><i>S - '+a+'</i></span>'
                +'<span class="bar">/</span>'
                +'<span class="fdn"><i>(S - '+ a +')^2 - '+aux2+'</i></span></div>')
            } else{
                $("#total").html(
                '<div class="fraction"><span class="fup" id="total"><i>S - '+a+'</i></span>'
                +'<span class="bar">/</span>'
                +'<span class="fdn"><i>(S - '+ a +')^2 - ('+b+')^2</i></span></div>')
            }
        }})
        function numberDefinition(number){
            let total = 0;
            let total2 = '';
            if (number.includes('sqrt')) {
            let raiz = number.split('')
            console.log(raiz)
            removeItemFromArr(raiz, 's');
            removeItemFromArr(raiz, 'q');
            removeItemFromArr(raiz, 'r');
            removeItemFromArr(raiz, 't');
            removeItemFromArr(raiz, '(');
            removeItemFromArr(raiz, ')');
            console.log(raiz);
            console.log(raiz.join(''));
            const aux = Math.sqrt(parseInt(raiz.join('')));
            if (aux % 1 == 0) {
                total = aux;
            } else {
                total2 = 'sqrt(' + raiz + ')';
                return total2;
            }
            } else if (number.includes('/')) {
            let pene = number.split('/')
            let aux = pene[0] / pene[1];
            if (aux % 1 == 0) {
                total = aux;
                } else {
                let total2 = 
                    '<div class="fraction"><span class="fup" id="total"><i>'+pene[0]+'</i></span>'
                    +'<span class="bar">/</span>'
                    +'<span class="fdn"><i>'+pene[1]+'</i></span></div>'
                    return total2;
                }
            } else if (number.includes('^')) {
            let elevar = number.split("^")
            total = Math.pow(elevar[0], elevar[1])
            } else {
            total = parseInt(number);
        }
        return total;
        }
        function removeItemFromArr(arr, item) {
            var i = arr.indexOf(item);
            if (i !== -1) {
                arr.splice(i, 1);
            }
    }
</script>
</html>